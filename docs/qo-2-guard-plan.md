# QO-2: 자동 점검 룰 및 “검토 중” 큐 계획

## 목표
- 품질 이상 신호를 자동 감지하고 리포트를 대기 큐로 전환, 사용자에게 “검토 중” 상태를 명확히 알린다.

## 범위
- 포함: 룰 정의, 상태 전환(draft), 경고 배지/메시지, 기본 재시도/재검토 흐름.
- 제외: 휴먼 리뷰 워크플로/승인 기록, 알림 채널은 이후 연계.

## 요구사항
1) 룰 초기 세트: 감성 점수 절대값 ≥0.9, 키워드 배열 비어 있음, anomalies 필드 누락/빈 배열 + 요약 길이 < 100자, JSON 파싱 실패 플래그.
2) 전환: 룰 매칭 시 report_snapshot 상태 draft로 전환, JobRun에 reason 기록.
3) 표시: 목록/상세에서 “검토 중” 배지, 본문에 경고 안내. 기본 조회는 포함하되 강조.
4) 재처리: 추후 수동 재처리 버튼과 연계할 수 있도록 JobRun/trace_id 남김.

## 태스크
- [ ] 룰 엔진(간단 if/threshold) 구현, materializer/분석 단계에서 호출.
- [ ] 상태 draft 전환 로직 + JobRun 기록(reason 코드).
- [ ] UI 배지/경고 메시지 추가.
- [ ] 테스트: 룰 매칭 시 상태 draft, 비매칭 시 published 유지, UI 노출 검증.

## 리스크
- 룰 오탐으로 유효 리포트가 숨겨질 수 있음 → 임계치/룰을 설정값으로 노출.
- 룰이 너무 약하면 품질 이슈 누락 → 로그/메트릭으로 추적해 조정.
