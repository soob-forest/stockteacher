# [QO-2] 자동 점검 룰 및 “검토 중” 큐

## Problem 1-Pager
- 배경: 분석된 리포트 품질을 자동으로 검증해 문제 있는 리포트를 게시 전에 잡아내야 하지만, 현재는 수동 확인에 의존한다.
- 문제: (1) 감성 극단/키워드 누락/JSON 파싱 실패 같은 품질 신호를 저장하지 않음, (2) 자동 룰 기반 상태 전환(draft) 로직이 없어 이상 리포트가 그대로 노출될 위험, (3) UI에서 “검토 중” 안내가 없어 사용자 혼란 가능.
- 목표: 간단한 룰 엔진을 추가해 룰 매칭 시 리포트 상태를 draft로 전환하고, 목록/상세에서 “검토 중” 배지를 노출한다.
- 비목표: 복잡한 휴먼 리뷰 워크플로, 알림 연계, 세밀한 임계치 관리 UI.
- 제약: 파일≤300LOC/함수≤50LOC, 민감정보 미로그, 새 코드에 테스트 추가, 룰은 설정 가능하게 최소화.

## 대안 비교
- Option A: 분석/게시 시점에서 조건 검사 후 상태 draft 전환 — 장점: 구현 단순, 즉시 효과. 단점: 룰 변경 시 재처리 필요. **선택**
- Option B: 별도 점검 태스크로 주기적 스캔 — 장점: 비동기 처리. 단점: 지연, 추가 인프라. 보류.

## 범위/비범위
- 포함: 기본 룰(감성 절대값≥0.9, keywords 비어 있음, anomalies 비거나 요약 <100자), 룰 적용 시 status=draft 전환, 목록/상세에 “검토 중” 배지/안내, 테스트.
- 제외: 알림/Slack, 임계치 UI, 재처리 버튼(후속 고려).

## 수용 기준
- 룰 매칭 리포트는 상태 draft로 저장되고 기본 목록에서 배지로 표시된다.
- 룰 비매칭 리포트는 기존 published 유지.
- 테스트로 룰 적용/비적용을 검증한다.

## 리스크/의존성
- 임계치 과도 설정 시 정상 리포트가 draft로 남을 수 있음 → 설정값으로 노출, 로그로 튜닝.
- 룰 미흡 시 품질 이슈 누락 → 로그/메트릭으로 모니터링 후 개선.
